<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Patient</title>
    <link rel="stylesheet" href="/css/add-patient.css">
</head>

<body>

    <!-- Formatting Birthdate -->
    <%var dateString = patient.birthday;%>
    <%dateString = new Date(dateString).toLocaleDateString('fil-PH');%>

    <div class="container">
        <div class="title">Edit Patient</div>
        <form action="/patient/modify/<%= patient._id %>" method="post">
            <div class="user-details">

                <div class="input-box">
                    <span class="details">Last Name</span>
                    <input type="text" value="<%= patient.lastName %>" name="lastName" required>
                </div>

                <div class="input-box">
                    <span class="details">First Name</span>
                    <input type="text" value="<%= patient.firstName %>" name="firstName" required>
                </div>

                <div class="input-box">
                    <span class="details">Middle Name</span>
                    <input type="text" value="<%= patient.middleName %>" name="middleName" required>
                </div>

                <div class="input-box">
                    <label for="gender" class="details">Gender</label>
                    <select name="gender" id="opt">
                        <option value="<%= patient.gender %>" selected disabled hidden><%= patient.gender %></option>
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                    </select>
                </div>

                <div class="input-box">
                    <span class="details">Address</span>
                    <input type="text" value="<%= patient.address %>" name="address" required>
                </div>

                <div class="input-box">
                    <span class="details">Contact Details</span>
                    <input type="text" value="<%= patient.contactNumber %>" name="contactNumber" value="+63" required>
                </div>

                <div class="input-box">
                    <span class="details">Birthday</span>
                    <input type="text" placeholder="MM/DD/YYYY" onfocus="(this.type='date')" value = "<%=dateString%>" name="birthday" required>
                </div>

                <div class="input-box">
                    <span class="details">Occupation</span>
                    <input type="text" value="<%= patient.occupation %>" name="occupation" required>
                </div>

                <div class="input-box">
                    <label for="type" class="details">Type</label>
                    <select name="type" id="opt">
                        <option value="<%= patient.type %>" selected disabled hidden><%= patient.type %></option>
                        <% for(let type of types) { %>
                            <option value="<%= type %>">
                                <%= type %>
                            </option>
                            <% } %>
                    </select>
                </div>

                <div class="input-box">
                    <span class="details">Referred by</span>
                    <input type="text" value="<%= patient.referral %>" name="referral" required>
                </div>

            </div>

            <div class="button">
                <input type="submit" id="sub1" value="SAVE">
                <input type="submit" id="sub2" value="CANCEL">
            </div>

        </form>

    </div>

</body>

</html>